<div class="container py-2" *ngIf="loading$ | async; else loading">
  <table class="table" style="border-collapse: initial">
    <thead>
      <tr>
        <loading-skeleton [class]="'ph'"></loading-skeleton>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="p-0">
          <loading-skeleton [class]="'ph'"></loading-skeleton>
        </td>
      </tr>
      <tr>
        <td class="p-0">
          <loading-skeleton [class]="'ph'"></loading-skeleton>
        </td>
      </tr>
      <tr>
        <td class="p-0">
          <loading-skeleton [class]="'ph'"></loading-skeleton>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<ng-template #loading>
  <div class="table-responsive mb-3">
    <table class="table table-hover">
      <thead>
        <tr>
          <th *ngFor="let col of config" scope="col" [width]="col.width">
            {{ col.name }}
          </th>
        </tr>
      </thead>
      <tbody>
        <ng-container *ngIf="transactions">
          <ng-container *ngFor="let transaction of transactions; let i = index">
            <tr [ngClass]="{ 'table-danger': transaction.status && transaction.status !== 'applied' }">
              <!--tx status is always 'null' for endorsements-->
              <td *ngFor="let col of config; let j = index">
                <!--<ng-container *ngTemplateOutlet="dynamic; context: transaction"></ng-container>-->
                <ng-template #dynamic></ng-template>
              </td>
            </tr>
            <tr *ngIf="transactions.length === 0"><td width="180">NO TRANSACTIONS</td></tr>
          </ng-container>
        </ng-container>
      </tbody>
    </table>
    <button *ngIf="showLoadMoreButton" type="button" class="btn btn-sm btn-primary-light w-100" (click)="loadMore()">Load more</button>
  </div>
</ng-template>
